import { Container } from "@chakra-ui/react";
import Head from "next/head";
import { useRouter } from "next/router";
import DashboardSidebar from "~/components/DashboardSidebar";
import Navbar from "~/components/Navbar";

export default function LayoutBase({
  children,
}: {
  children: React.ReactNode;
}) {
  const router = useRouter();

  const isDashboard = router.pathname.startsWith("/dashboard");
  const isAuth = router.pathname.startsWith("/auth");

  return (
    <>
      <Head>
        <title>Base</title>
        <meta name="description" content="Generated by create-t3-app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      {!isAuth && <Navbar />}
      <main
        style={!isAuth ? {
          height: "calc(100% - 97px)",
          display: "flex",
          maxWidth: "100%",
          backgroundColor: "#F9FAFF"
        } : {
          height: "100%",
        }}
      >
        {isDashboard && <DashboardSidebar />}
        <Container h="full" overflowY="scroll" px={isAuth ? 0 : 4} minW={isAuth ? "full" : "calc(100% - 200px)"}>
          {children}
        </Container>
      </main>
    </>
  );
}
